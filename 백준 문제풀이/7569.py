# https://www.acmicpc.net/problem/7569

'''
3차원 배열형태의 토마토 틀의 토마토가 모두 익는데 걸리는 시간 구하기

토마토가 모두 익을 때까지 최소 며칠이 걸리는지를 계산해서 출력해야 한다. 
만약, 저장될 때부터 모든 토마토가 익어있는 상태이면 0을 출력해야 하고, 
토마토가 모두 익지는 못하는 상황이면 -1을 출력해야 한다.
'''

m, n, h = map(int, input().split())
